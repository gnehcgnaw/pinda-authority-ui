{"remainingRequest":"D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\src\\utils\\error-log.js","dependencies":[{"path":"D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\src\\utils\\error-log.js","mtime":1585207882791},{"path":"D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\品达通用权限系统\\资料\\前端工程\\pinda-authority-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\\\u54C1\\u8FBE\\u901A\\u7528\\u6743\\u9650\\u7CFB\\u7EDF\\\\\\u8D44\\u6599\\\\\\u524D\\u7AEF\\u5DE5\\u7A0B\\\\pinda-authority-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\nvar _myValidate = require(\"@/utils/my-validate\");\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nvar needErrorLog = false;\n\nfunction checkNeed() {\n  var env = process.env.NODE_ENV;\n\n  if ((0, _myValidate.isString)(needErrorLog)) {\n    return env === needErrorLog;\n  }\n\n  if ((0, _myValidate.isArray)(needErrorLog)) {\n    return needErrorLog.includes(env);\n  }\n\n  return false;\n}\n\nif (checkNeed()) {\n  _vue.default.config.errorHandler = function (err, vm, info) {\n    // Don't ask me why I use Vue.nextTick, it just a hack.\n    // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    _vue.default.nextTick(function () {\n      _store.default.dispatch('errorLog/addErrorLog', {\n        err: err,\n        vm: vm,\n        info: info,\n        url: window.location.href\n      });\n\n      console.error(err, info);\n    });\n  };\n}",null]}